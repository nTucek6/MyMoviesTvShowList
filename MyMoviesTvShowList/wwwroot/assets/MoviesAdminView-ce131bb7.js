import{d as V,m as G,r as h,a as y,n as S,w as E,b as F,o as t,c as s,i as w,q as I,g as e,F as i,s as u,f as c,t as l,x as p,p as L,l as x,_ as B}from"./index-3be30c5c.js";import{u as P}from"./moviesadmin-69d67227.js";import{_ as W}from"./AdminNavigationComponent.vue_vue_type_script_setup_true_lang-7d9d92b2.js";import{m as q}from"./moviesparams-cc211dca.js";const R=d=>(L("data-v-39212ea9"),d=d(),x(),d),T={key:0,class:"table table-striped"},$=R(()=>e("thead",null,[e("tr",null,[e("th",null,"Movie title"),e("th",null,"Genres"),e("th",null,"Duration"),e("th",null,"Actors"),e("th",null,"Director"),e("th",null,"Writers"),e("th",null,"Edit")])],-1)),j={key:0},z={key:0},H={key:0},J={key:0},K=["onClick"],O=["disabled"],b=10,Q=V({__name:"MoviesAdminView",setup(d){const r=P(),g=G(),v=h(1),m=h(""),M=h(!1),A=y(()=>r.MovieCount);S(async()=>{await r.GetMoviesCount(),await r.GetMovies(b,v.value,m.value),f()});const _=y(()=>r.MovieData),N=k=>{r.setEditMovie(k),g.push({name:"Add & Edit movie"})},C=()=>{v.value++,r.GetMovies(b,v.value,m.value)},f=()=>{_.value.length==A.value&&(M.value=!0)};return E(_,()=>{f()}),(k,U)=>{const D=F("font-awesome-icon");return t(),s("div",null,[w(W,{routes:I(q)},null,8,["routes"]),_.value?(t(),s("table",T,[$,e("tbody",null,[(t(!0),s(i,null,u(_.value,o=>(t(),s("tr",{key:o.Id},[e("td",null,l(o.MovieName),1),e("td",null,[(t(!0),s(i,null,u(o.Genres,(a,n)=>(t(),s("span",{key:n},[p(l(a.label),1),n!==o.Genres.length-1?(t(),s("span",j,", ")):c("",!0)]))),128))]),e("td",null,l(o.Duration),1),e("td",null,[(t(!0),s(i,null,u(o.Actors,(a,n)=>(t(),s("span",{key:n},[p(l(a.FirstName)+" "+l(a.LastName),1),n!==o.Actors.length-1?(t(),s("span",z,", ")):c("",!0)]))),128))]),e("td",null,[(t(!0),s(i,null,u(o.Director,(a,n)=>(t(),s("span",{key:n},[p(l(a.FirstName)+" "+l(a.LastName),1),n!==o.Director.length-1?(t(),s("span",H,", ")):c("",!0)]))),128))]),e("td",null,[(t(!0),s(i,null,u(o.Writers,(a,n)=>(t(),s("span",{key:n},[p(l(a.FirstName)+" "+l(a.LastName),1),n!==o.Writers.length-1?(t(),s("span",J,", ")):c("",!0)]))),128))]),e("td",null,[e("span",{style:{cursor:"pointer"},onClick:()=>{N(o)}},[w(D,{icon:["fas","edit"]})],8,K)])]))),128))])])):c("",!0),e("button",{onClick:C,class:"btn",disabled:M.value},"Show more",8,O)])}}});const te=B(Q,[["__scopeId","data-v-39212ea9"]]);export{te as default};
